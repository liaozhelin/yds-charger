# å››è·¯æ¡Œé¢æ™ºèƒ½å……ç”µç«™

> è¿™æ˜¯ä¸€ä¸ªå®ç”¨å‹æ™ºèƒ½å¤šè·¯æ¡Œé¢å……ç”µå™¨é¡¹ç›®
>
> è§†é¢‘ä»‹ç»ï¼š[ã€å¼€æºã€‘å¦‚ä½•è‡ªåˆ¶ä¸€ä¸ªå…¨èƒ½æ¡Œé¢å……ç”µç«™ï¼Ÿ](https://www.bilibili.com/video/BV1X94y1U7av/)
>
> å¦‚æœè§‰å¾—è§†é¢‘è¿˜å¯ä»¥çš„è¯ï¼Œç•™ä¸‹ä¸€é”®ä¸‰è¿å“¦ ( ËŠâ€¢Ì¥â–µâ€¢)à©­â‚â‚
>
> æœ¬é¡¹ç›®æ¬¢è¿å¤åˆ»ï¼Œç¦æ­¢å•†ç”¨ï¼ï¼
>
> æ•´ä½“æˆæœ¬ï¼ˆçº¯ç¡¬ä»¶ï¼‰åœ¨50å…ƒå·¦å³ï¼Œç›®å‰æ²¡æœ‰è´µçš„ç¦»è°±èŠ¯ç‰‡ï¼Œé€‰ç”¨çš„èŠ¯ç‰‡åŸºæœ¬éƒ½æ˜¯å›½äº§ä½¿ç”¨é‡è¾ƒé«˜çš„
>
> æœ‰ä»»ä½•é—®é¢˜è¯·åœ¨`issues`ä¸­æäº¤å“ˆï¼ŒåŒ…æ‹¬è½¯ä»¶åŠŸèƒ½å»ºè®®ï¼Œå…¶ä»–å¹³å°çš„æ¶ˆæ¯ä¸ä¸€å®šçœ‹å¾—åˆ°ğŸ‘€

![5E3306F0C8ED8A1241D5FD975B7F77DC](https://raw.githubusercontent.com/liaozhelin/picgo/master/5E3306F0C8ED8A1241D5FD975B7F77DC.png)

**ä»“åº“ç›®å½•è¯´æ˜**

1. `Hardware`ï¼šã€ä¸Šå±‚æ¿/ä¸‹å±‚æ¿/å‰é¢æ¿/åé¢æ¿ ã€‘gerberæ–‡ä»¶/åŸç†å›¾æºæ–‡ä»¶/åŸç†å›¾PDFæ–‡ä»¶/åæ ‡æ–‡ä»¶/BOMæ–‡ä»¶
2. `Firmware`ï¼šã€ ESP32C3FN4 çš„å›ºä»¶ä»¥åŠå·¥å…· ã€‘å›ºä»¶/é©±åŠ¨/ä¸‹è½½çƒ§å½•è½¯ä»¶
3. `Software`ï¼š ã€ è½¯ä»¶å·¥ç¨‹æºç  ã€‘esp-idf-4.4 ç‰ˆæœ¬å¼€å‘ç¯å¢ƒ
4. `Structure`ï¼š ã€ æ•´æœºç»“æ„æ–‡ä»¶ ã€‘åŒ…å«ç”µè·¯æ¿åŠå¤–å£³è£…é…æ–‡ä»¶ï¼Œè½¯ä»¶ç‰ˆæœ¬Soliworks2022
5. `Documents`ï¼š ã€ é¡¹ç›®æ‰€ç”¨åˆ°çš„æ–‡æ¡£æ‰‹å†Œç­‰ ã€‘éƒ¨åˆ†æ‰‹å†Œï¼Œæœ‰äº›æ‰‹å†Œæ˜¯å‚å®¶ä¸è®©æµä¼ çš„æ²¡æœ‰ä¸Šä¼ 

**èµ„æ–™è¯´æ˜ ï¼ˆæ›´æ–°æ—¥æœŸ22-5-30ï¼‰**

- å·²æ·»åŠ gerberæ–‡ä»¶ï¼ŒåŒ…å«ä¸Šå±‚ç‰ˆï¼Œä¸‹å±‚æ¿ï¼Œå‰é¢æ¿ï¼Œåé¢æ¿ï¼Œå¯ç›´æ¥æ‰“æ ·ï¼ˆä¸Šå±‚æ¿è‹¥å®¡æ ¸ä¸é€šè¿‡å¤‡æ³¨æ–­æ¿ä¸è¡¥å³å¯ï¼‰
- å·²æ·»åŠ åŸç†å›¾æºæ–‡ä»¶
- å·²æ·»åŠ  README æ–‡ä»¶ 
- å·²æ·»åŠ çƒ§å½•è½¯ä»¶,bootloaderå›ºä»¶ä»¥åŠappå›ºä»¶
- å·²æ·»åŠ ç»“æ„è®¾è®¡æ–‡ä»¶å¤¹
- å·²æ·»åŠ æ‰‹å†Œæ–‡ä»¶å¤¹
- å·²æ·»åŠ  esp32c3 usb cdc/jtagé©±åŠ¨æ–‡ä»¶
- å·²æ·»åŠ æºç å·¥ç¨‹æ–‡ä»¶å¤¹ï¼Œå¸Œæœ›å¤§ä½¬ä»¬å¯ä»¥å¸®å¿™æ”¹è¿›ï¼Œä»£ç é‡Œæœ‰ä»€ä¹ˆé”™è¯¯ä»¥åŠç–‘é—®éƒ½å¯ä»¥æäº¤issueäº¤æµï¼Œå½“ç„¶èƒ½å¸®æˆ‘å®Œå–„åŠŸèƒ½å°±æ›´å¥½äº†ğŸ˜Š
- å·²æäº¤æ–°ç‰ˆä¸Šå±‚æ¿ (Gerber_topBoard-Fix.zip) ï¼Œä¿®æ”¹æ‰ä¸å¥½ç”Ÿäº§çš„è¾¹æ¡†å¤„åä¸¤å±‚æ¿å®åœ¨æ²¡åŠæ³•èµ°é€šï¼Œæ”¹æˆå››å±‚æ¿äº†ï¼Œæ‰“æ ·ä¸€æ ·å…è´¹ï¼Œå°±æ˜¯é¢œè‰²å¯èƒ½ä¹Ÿå¾—ç»¿è‰²äº†ï¼Œå¯ä»¥å…ˆè¯•è¯•åŸç‰ˆä¸¤å±‚æ¿ï¼Œæœ‰æ¦‚ç‡é€šè¿‡ï¼Œä¸é€šè¿‡å†æ¢æˆæ–°ç‰ˆä¸Šå±‚æ¿ã€‚ğŸ‘€
- å·²æ·»åŠ ä¸Šä¸‹å±‚æ¿çš„åŠ¨æ€BOMè¡¨ï¼Œè¯´æ˜æ–‡ä»¶ï¼Œå¯ä»¥æ–¹ä¾¿ç„Šæ¥é€‰æ–™ï¼Œè‹¥æ‰“æ ·å˜‰ç«‹åˆ›ä¸é€šè¿‡å¯ä»¥è€ƒè™‘æ·é…ï¼Œæ–°ç”¨æˆ·ä¹Ÿå¯ä»¥å…è´¹æ‰“æ¿å®¡æ ¸ä¹Ÿæ¯”è¾ƒæ¾ã€‚
- å·²æ·»åŠ å™¨ä»¶é‡‡è´­æŒ‡å—ï¼Œåªåšæ ·ä¾‹ï¼Œè‹¥é“¾æ¥å¤±æ•ˆè‡ªè¡Œæ‰¾ç±»ä¼¼å™¨ä»¶æ›¿æ¢ã€‚
- å·²æ·»åŠ ä¸åŒä¸å°ç‰ˆæœ¬çš„æ–‡ä»¶ï¼Œåœ¨æ¯ä¸ªæ¿å­æ–‡ä»¶å¤¹ä¸­çš„othersæ–‡ä»¶å¤¹ä¸­ï¼Œæ¯ä¸€å—æ¿å­éƒ½æä¾›äº†3ç§ä¸åŒçš„ä¸å°ç‰ˆæœ¬ï¼Œé™ä½æ‰“æ ·æ—¶å€™åˆ¤å®šæ‹†å•çš„æ¦‚ç‡ï¼ˆå®åœ¨ä¸è¡Œå°±æ¢å…¶ä»–æ‰“æ¿å…¬å¸æˆ–è€…æ¢ä¸åŒæ—¶é—´æ‰“æ ·ï¼ŒåŸºæœ¬ä¸Šåªè¦æ˜¯æœºå®¡å°±å¯ä»¥é€šè¿‡ï¼‰
- å·²ç»ä¿®æ”¹20Vç©ºè½½è¾“å…¥å‘çƒ­é—®é¢˜ï¼Œæ›´æ¢3904çš„ä¸¤ä¸ªä¸Šæ‹‰ç”µé˜»å³å¯ã€‚

## ä¸€ã€é¡¹ç›®ä»‹ç»ï¼š

### 1.1 ç¡¬ä»¶é€‰å‹ï¼š

> æœ¬é¡¹ç›®çš„ç¡¬ä»¶è´­ä¹°éƒ½æ¥è‡ªäºæ·˜å®ï¼Œè™½ç„¶æœ‰å¯èƒ½æœ‰å‡è´§ï¼Œä½†æ˜¯æˆ‘æ²¡æœ‰ç¿»è½¦ï¼Œå¤§å®¶å¯ä»¥é…Œæƒ…é€‰æ‹©ã€‚

- é¡¹ç›®é‡‡ç”¨ä¹é‘«**ESP32C3FN4**èŠ¯ç‰‡ä½œä¸ºæ§åˆ¶MCUï¼Œå…·å¤‡Wifiå’ŒBluetoothï¼Œä»·æ ¼ä¾¿å®œåŠŸèƒ½å¼ºå¤§ï¼Œå¯ä¾›äºŒæ¬¡å¼€å‘å¢åŠ è®¸å¤šå…¶ä»–åŠŸèƒ½(å†…ç½®4Mçš„FLASH)ã€‚
- Cå£åŠŸç‡çº§é‡‡ç”¨äº†æ™ºè**SW3526**çš„åŠŸç‡èŠ¯ç‰‡ï¼ˆç›®å‰ä»·æ ¼4.5å…ƒä¸€ç‰‡ğŸ˜ï¼‰ï¼Œè¯¥èŠ¯ç‰‡æ”¯æŒå¤šç§å¿«å……åè®®ï¼ŒèŠ¯ç‰‡å†…éƒ¨é›†æˆåŠŸç‡ç®¡ï¼Œå‡å°‘PCBé¢ç§¯ï¼Œæœ€å¤§åŠŸç‡ä¸ºå•é€šé“65Wï¼Œæœ¬é¡¹ç›®ä¸­è®¾è®¡äº†ä¸¤ç»„é€šé“ã€‚
- Aå£åŠŸç‡çº§é‡‡ç”¨äº†è‹±é›†èŠ¯çš„**IP6525T**ï¼Œä»·æ ¼ä½å»‰ï¼ˆç›®å‰ä»·æ ¼1å…ƒä¸€ç‰‡ğŸ˜ï¼‰ï¼Œæœ€å¤§åŠŸç‡ä¸ºå•é€šé“18Wï¼Œæœ¬é¡¹ç›®ä¸­è®¾è®¡äº†ä¸¤è·¯, è®¾è®¡åœ¨æœºèº«åéƒ¨, ä¸»è¦æ˜¯ç»™æ¡Œé¢ä¸Šçš„å›ºå®šè®¾å¤‡ä¾›ç”µ, æ¯”å¦‚å°ç¯, å°æœåŠ¡å™¨ç­‰, å¯é€šè¿‡MOSç®¡è¿œç¨‹æ§åˆ¶å¼€å…³
- äº¤äº’ç•Œé¢æ˜¾ç¤ºå±é‡‡ç”¨äº†**0.96**å¯¸OLEDå±ï¼ˆå°ºå¯¸åˆšå¥½,è‡³äºçƒ§å±é—®é¢˜åé¢ä¼šé€šè¿‡å±ä¿è§£å†³ï¼‰ã€‚
- è¾“å…¥éƒ¨åˆ†è®¾è®¡äº†ä¿æŠ¤ç”µè·¯ï¼Œå…·å¤‡é˜²åæ¥ï¼ˆæ–¹ä¾¿è½¦å……åº”ç”¨ï¼‰åŠŸèƒ½ï¼Œåæ¥ç³»ç»Ÿä¸ä¼šå·¥ä½œã€‚å…·å¤‡è¿‡æµä¿æŠ¤ç”µè·¯ï¼ˆ10Aï¼‰ï¼Œè¿‡æµä¼šç†”æ–­ä¿é™©ä¸ã€‚å…·å¤‡é˜²æ‰“ç«ç¼“å¯åŠ¨ç”µè·¯ï¼Œå¯ä»¥é˜²æ­¢ä¸Šç”µç«èŠ±ã€‚
- æ¿è½½å››è·¯RGBæŒ‡ç¤ºç¯ä»¥åŠé¢æ¿ï¼Œå¯ä»¥å®ç°å½“å‰ç³»ç»ŸçŠ¶æ€çš„å¿«é€ŸæŒ‡ç¤ºã€‚
- åŠ é€Ÿåº¦ä¼ æ„Ÿå™¨ä¸º**LIS3DH**ï¼Œå¯ä»¥å®ç°éœ‡åŠ¨æ§åˆ¶æˆ–è€…ä½“æ„Ÿæ“ä½œç­‰åŠŸèƒ½ã€‚

![3](https://raw.githubusercontent.com/liaozhelin/picgo/master/3.jpg)

### 1.2 é¡¹ç›®å‚æ•°

è¾“å…¥ç”µå‹ï¼š10V-32Vç›´æµ (æ¨èä½¿ç”¨æ¢ä¸‹æ¥çš„ç¬”è®°æœ¬å……ç”µå™¨,å’¸é±¼ä¾¿å®œé‡å¤§,å½“ç„¶æ›´æ¨è24V5Aå°è¾¾ç”µæº,å¯ä»¥æœ€å¤§ç¨‹åº¦å‘æŒ¥åŠŸç‡)

è¾“å…¥åŠŸç‡ï¼šï¼80W ï¼ˆæ»¡è½½144Wï¼Œä½†æ˜¯ä¸€èˆ¬ä¸ä¼šå…¨éƒ¨æ»¡è½½ï¼‰

å¿«å……å‚æ•°å¦‚ä¸‹ï¼š

- Cå£è¾“å‡ºåè®®ï¼šPPS/PD3.0/PD2.0/QC4+/QC4/QC3.0/QC2.0/AFC/FCP/SCP/PE2.0/PE1.1/SFCP/BC2.1/è‹¹æœ/ä¸‰æ˜Ÿ
- Cå£è¾“å‡ºç”µå‹ï¼š0.3-22V
- Cå£è¾“å‡ºç”µæµï¼š0-3.3A
- Aå£è¾“å‡ºåè®®ï¼šDCP/QC2.0/QC3.0/FCP/AFC
- Aå£è¾“å‡ºç”µå‹ï¼š0.3-12V
- Aå£è¾“å‡ºç”µæµï¼š0-3A

PCBå‚æ•°ï¼š47*80(mm) åšåº¦1.6mm å››å±‚æ¿

æ•´ä½“å°ºå¯¸ï¼ˆå«å¤–å£³ï¼‰ï¼š50X*20X*80(mm)

## äºŒã€åˆ¶ä½œæ•™ç¨‹

### 2.1 åˆ¶ä½œæ³¨æ„äº‹é¡¹

> æœ¬äº§å“ç„Šæ¥å®Œæˆï¼Œæµ‹è¯•æ— çŸ­è·¯è™šç„Šåï¼Œå¯é€šè¿‡ä¸‹è½½å£USBè¿æ¥ç”µè„‘ï¼Œçƒ§å†™ç¨‹åºåå³å¯ä½¿ç”¨ï¼ˆESP32C3è‡ªå¸¦å†…éƒ¨USBå’ŒJTAG,ååˆ†æ–¹ä¾¿ï¼‰,å¦‚æœä¸è¯†åˆ«å¯èƒ½éœ€è¦è‡ªè¡Œä¸‹è½½C3é©±åŠ¨å®‰è£…å³å¯

- è£…æœºæ—¶è¯·æ³¨æ„åŠŸç‡çº§éƒ¨åˆ†çš„æ•£çƒ­ï¼Œæ¨èåœ¨åŠŸç‡çº§éƒ¨åˆ†èƒŒé¢å«å¯¼çƒ­ç‰‡å¢å¼ºæ•£çƒ­èƒ½åŠ›ã€‚
- ç„Šæ¥æ¨èé‡‡ç”¨é’¢ç½‘ç„Šæ¥ï¼Œæœ¬é¡¹ç›®ä¸­å™¨ä»¶å‡ä¸ºå•é¢å¸ƒç½®ï¼Œå¯ä»¥å¿«é€Ÿå®ç°ä½æˆæœ¬å›æµç„Šã€‚
- åˆæ¬¡ä¸Šç”µæ—¶ï¼Œæ¨èä½¿ç”¨5Vç”µæºï¼Œæµ‹é‡RY8411è¾“å‡ºæ­£å¸¸3.3Våæ‰å¯ä»¥å‡é«˜ç”µå‹è¿›è¡Œåé¢çš„æµ‹è¯•ã€‚
- C1å£ä¸ºæ¿è½½ï¼ŒC2å£é€šè¿‡æ’é’ˆåœ¨ä¸Šå±‚æ¿ä¸­å¼•å‡ºã€‚

ä¸Šå±‚æ¿å’Œä¸‹å±‚æ¿è£…é…é‡‡ç”¨å¸¸è§„æ’é’ˆæ’æ¯ï¼Œä½†æ˜¯æ’é’ˆéœ€è¦**ç‰¹æ®Šå¤„ç†**ä¸‹ï¼Œå»æ‰å¡‘æ–™éƒ¨åˆ†ç›´æ¥ç„Šæ¥ï¼Œä¸ç„¶æ§½é—´é«˜åº¦ä¸å¤Ÿï¼š

| ç¬¬ä¸€æ­¥                                                       | ç¬¬äºŒæ­¥                                                       | ç¬¬ä¸‰æ­¥                                                       | ç¬¬å››æ­¥                                                       | ç¬¬äº”æ­¥                                                       |
| ------------------------------------------------------------ | ------------------------------------------------------------ | ------------------------------------------------------------ | ------------------------------------------------------------ | ------------------------------------------------------------ |
| <img src="https://raw.githubusercontent.com/liaozhelin/picgo/master/picpath/image-20220613213737766.png" alt="image-20220613213737766" style="zoom:50%;" /> | <img src="https://raw.githubusercontent.com/liaozhelin/picgo/master/picpath/image-20220613213846373.png" alt="image-20220613213846373" style="zoom:50%;" /> | <img src="https://raw.githubusercontent.com/liaozhelin/picgo/master/picpath/image-20220613213913880.png" alt="image-20220613213913880" style="zoom:50%;" /> | <img src="https://raw.githubusercontent.com/liaozhelin/picgo/master/picpath/image-20220613213958565.png" alt="image-20220613213958565" style="zoom:50%;" /> | <img src="https://raw.githubusercontent.com/liaozhelin/picgo/master/picpath/image-20220613214043013.png" alt="image-20220613214043013" style="zoom:50%;" /> |
| å°†æ’é’ˆæ’è¿›ä¸Šå±‚æ¿ï¼Œé¡¶åœ¨æ¡Œé¢ä¸Šï¼Œå¾€ä¸‹æŒ‰                         | å–å‡ºåå¯ä»¥å¾—åˆ°å¦‚ä¸Šæ’é’ˆï¼ŒæŒ‰ç…§è¿™ä¸ªæ ·å¼åˆ¶ä½œä¸‰ç»„                 | ç”¨æ°´å£é’³å»æ‰å¡‘æ–™éƒ¨åˆ†ï¼Œå¾—åˆ°é’ˆè„š                               | å°†æ’é’ˆæ’è¿›ä¸‹å±‚æ¿ç„Šæ¥å¥½çš„æ’æ¯ä¸­                               | å°†ä¸Šå±‚æ¿å­å’Œä¸‹å±‚æ¿ç´§è´´ï¼Œæ’é’ˆæ’è¿›æ´ä¸­ï¼Œç„¶åç„Šæ¥ï¼Œè¿™ä¸ªè·ç¦»åˆšåˆšå¥½æ˜¯ä¸¤æ§½é—´è·ç¦» |

ä¸Šå±‚æ¿çš„ä¸Šé¢ç„Šæ¥å®Œåï¼Œå¯ä»¥åœ¨ä¸Šå±‚é“å£³å¯¹åº”ä½ç½®è´´ä¸Šé»‘èƒ¶å¸ƒç»ç¼˜ï¼ˆä¸è´´ä¹Ÿå¯ä»¥ï¼Œå®é™…ä¸Šè¿˜æœ‰ä¸€å®šè·ç¦»ï¼Œä¿é™©èµ·è§ï¼‰

### 2.2 å›ºä»¶çƒ§å½•æ•™ç¨‹

> é€šè¿‡Fireware/toolsæ–‡ä»¶å¤¹ä¸­çš„ flash_download_tool_3.9.2 å·¥å…·ä¸‹è½½
>
> æœ¬é¡¹ç›®æš‚æ—¶ä¸æä¾›PCBæºæ–‡ä»¶ï¼Œæºç å·²ç»å…¨éƒ¨å¼€æºï¼Œæœ‰éœ€è¦äºŒæ¬¡å¼€å‘çš„æœ‹å‹å¯ä»¥è‡ªè¡Œä¿®æ”¹

â€‹	æœ¬é¡¹ç›®ä¸éœ€è¦çƒ§å½•å™¨/ä¸‹è½½å™¨ï¼Œåªéœ€è¦ä½ æœ‰ä¸€ä¸ªUSBçº¿ï¼Œä½†æ˜¯éœ€è¦è‡ªå·±ç„Šæ¥ä¸€ä¸ªé™å‹ç”µè·¯å°†USBå£çš„5Vè½¬åˆ°3.3Vï¼ˆæˆ–è€…ä¸ä»æ’é’ˆ3.3Vå¤„ä¾›ç”µï¼Œç›´æ¥é€šè¿‡DCå£ä¾›ç”µï¼‰,**ä¸€å®šä¸è¦æŠŠ5Væ¥åˆ°æ¿å­ä¸Šçš„3.3Vå¤„ï¼Œå¿…çƒ§ESP32**ï¼Œæˆ‘æ˜¯ä½¿ç”¨äº†ä¸€ä¸ªæ´æ´æ¿+AMS1117ç„Šæ¥çš„ç®€å•ä¸‹è½½å™¨ï¼š

|                            çƒ§å½•å™¨                            |                        çƒ§å½•å™¨è¿æ¥æ¿å­                        |
| :----------------------------------------------------------: | :----------------------------------------------------------: |
| ![image-20220613220723699](https://raw.githubusercontent.com/liaozhelin/picgo/master/picpath/image-20220613220723699.png) | ![image-20220613220739571](https://raw.githubusercontent.com/liaozhelin/picgo/master/picpath/image-20220613220739571.png) |

1. åˆå¹¶å›ºä»¶ä½ç½®åœ¨ `Fireware/bin/target.bin` ï¼Œç‹¬ç«‹å›ºä»¶ä½ç½®åœ¨ `Software/yds_charger` ä¸­ï¼Œæ¨èä¸æ‰“ç®—è‡ªå·±åç»­å¼€å‘çš„ä½¿ç”¨åˆå¹¶binä¸‹è½½æ–¹å¼ã€‚

2.  è½¯ä»¶æ‰“å¼€åå°†è®¾å¤‡è¿æ¥åˆ°ç”µè„‘ï¼Œå¦‚å›¾ç‰‡`å›¾1`è®¾ç½®å¥½ä¸‹è½½æ¨¡å¼åï¼Œç‚¹å‡»OKã€‚

3. ã€åˆå¹¶binä¸‹è½½æ–¹å¼ã€‘æŒ‰ç…§ä¸‹é¢çš„å›¾ç‰‡`å›¾2 `è®¾ç½®å¥½è½¯ä»¶ï¼Œç‚¹å‡»ä¸‹è½½åº”è¯¥å°±å¯ä»¥ä¸‹è½½å›ºä»¶äº†ï¼Œä¸€å…±éœ€è¦çƒ§å½•ä¸€ä¸ªå›ºä»¶å³å¯ï¼Œåœ°å€è®¾ç½®0

4. ã€ç‹¬ç«‹binä¸‹è½½æ–¹å¼ã€‘æŒ‰ç…§ä¸‹é¢çš„å›¾ç‰‡`å›¾3 `è®¾ç½®å¥½è½¯ä»¶ï¼Œç‚¹å‡»ä¸‹è½½åº”è¯¥å°±å¯ä»¥ä¸‹è½½å›ºä»¶äº†,ä¸€å…±éœ€è¦çƒ§å½•å››ä¸ªå›ºä»¶ï¼Œæ³¨æ„åœ°å€è®¾ç½®

   > å¦‚æœå‡ºç°è¿æ¥é”™è¯¯å¯ä»¥å°†ä¸Šæ¿åé¢çš„æ‹¨åŠ¨å¼€å…³å‘å·¦(ä»å‰é¢çœ‹ï¼Œä¹Ÿå°±æ˜¯ä¸Šé¢æ¿æœ‰æ—¶é—´ç¼–å·çš„é‚£ä¸€è¾¹)æ‹¨ä½**ä¸æ¾**ï¼Œç„¶åå†ä¸Šç”µï¼Œå°±ä¼šè¿›Bootæ¨¡å¼ï¼‰çƒ§å½•å®Œæˆï¼Œæ–­ç”µåé‡æ–°ä¸Šç”µï¼Œåº”è¯¥å°±å¯ä»¥æ­£å¸¸ä½¿ç”¨äº†ã€‚

â€‹	çƒ§å½•å®Œæˆåï¼Œé‡æ–°ä¸Šç”µå¤ä½ï¼Œå°±å¯ä»¥ä½¿ç”¨äº†ã€‚

|                             å›¾1                              |                             å›¾2                              |                             å›¾3                              |
| :----------------------------------------------------------: | :----------------------------------------------------------: | :----------------------------------------------------------: |
| ![](https://raw.githubusercontent.com/liaozhelin/picgo/master/picpath/image-20220613220553277.png) | ![image-20220613221404829](https://raw.githubusercontent.com/liaozhelin/picgo/master/picpath/image-20220613221404829.png) | ![image-20220613220700508](https://raw.githubusercontent.com/liaozhelin/picgo/master/picpath/image-20220613220700508.png) |

â€‹	OTAé‡‡ç”¨äº† APP+OTA1+OTA2 çš„ä¹’ä¹“å¼æ›´æ–°åˆ†åŒºï¼ˆè¿™æ ·å°±ç®—æ›´æ–°åˆ°ä¸€åŠæ–­ç”µæ–­ç½‘ä¹Ÿä¸ä¼šå˜ç –ï¼‰ï¼Œé¦–æ¬¡çƒ§å½•å®Œåç»­ç›–ä¸Šç›–å­åï¼Œåç»­å°±å¯ä»¥ä½¿ç”¨æ— çº¿æ›´æ–°äº†ã€‚

## ä¸‰ã€IDFå¼€å‘

### 3.1 å¼€å‘ç¯å¢ƒæ­å»º

â€‹	IDFå¼€å‘ç¯å¢ƒæˆ‘æ˜¯åœ¨ Windows ç³»ç»Ÿä¸­ä½¿ç”¨ `VScode+idfæ‹“å±•æ’ä»¶` åœ¨Pythonè™šæ‹Ÿç¯å¢ƒä¸­å®ç°å¼€å‘çš„ï¼Œå®é™…ä¸Šä¹Ÿå¯ä»¥åœ¨Linuxä¸­ç›´æ¥æ­å»ºç¯å¢ƒå¼€å‘ï¼Œæˆ–è€…ä½¿ç”¨`WSL+VScodeè¿œç¨‹æ’ä»¶` ä¹Ÿæ˜¯å¯ä»¥çš„ï¼Œå¯ä»¥æ ¹æ®è‡ªå·±çš„éœ€è¦è¿›è¡Œé€‰æ‹©ï¼Œè¯¦ç»†çš„æ­å»ºæ­¥éª¤å¯ä»¥è§[å®˜ç½‘æ­å»ºæµç¨‹](https://docs.espressif.com/projects/esp-idf/zh_CN/release-v4.1/get-started/index.html#get-started-get-prerequisites)ï¼š

â€‹	ä¸‹é¢ä»¥æˆ‘çš„`VScode+idfæ‹“å±•æ’ä»¶` æ­å»ºç¯å¢ƒä¸ºä¾‹ï¼š

1. å®‰è£…Vscodeï¼Œè¿™ä¸ªç›´æ¥ä¸‹è½½å®‰è£…å³å¯ï¼Œç„¶ååœ¨å·¦ä¾§çš„åº”ç”¨å¸‚åœºä¸­ï¼Œæœç´¢å…³é”®è¯ Espressif IDFï¼Œå®‰è£…ï¼š

   <img src="https://raw.githubusercontent.com/liaozhelin/picgo/master/picpath/image-20220613131702897.png" alt="image-20220613131702897" style="zoom:50%;" />

2. æ’ä»¶å®‰è£…å®Œæˆåï¼ŒæŒ‰`F1`,åœ¨å‘½ä»¤ä¸­æ‰¾åˆ°`Configure ESP-IDF extension`é€‰é¡¹ï¼Œç‚¹å‡»ï¼š

   <img src="https://raw.githubusercontent.com/liaozhelin/picgo/master/picpath/image-20220613131821004.png" alt="image-20220613131821004" style="zoom: 67%;" />

3. é€‰æ‹©ADVANCEDæ¨¡å¼ï¼Œå¯ä»¥è¯¦ç»†é…ç½®ä¸€äº›é€‰é¡¹ï¼š

   ![image-20220613131919778](https://raw.githubusercontent.com/liaozhelin/picgo/master/picpath/image-20220613131919778.png)

4. ä¾æ¬¡è®¾ç½®è½¯ä»¶æºï¼ŒIDFç‰ˆæœ¬ï¼ŒIDFè·¯å¾„ï¼ŒIDFå·¥å…·è·¯å¾„ã€‚è½¯ä»¶æºå¦‚æœä½ ç§‘å­¦å°±å¯ä»¥ç›´æ¥é€‰æ‹©Githubï¼Œæ²¡æœ‰ç§‘å­¦å¯ä»¥é€‰æ‹©Espressifçš„å›½å†…æºï¼ŒIDFç‰ˆæœ¬è¿™é‡Œé€‰æ‹©`release/4.4`,å…¶ä»–ä¸¤ä¸ªå¯ä»¥æ ¹æ®è‡ªå·±è¿›è¡Œè®¾ç½®ï¼ˆè·¯å¾„ä¸­ä¸è¦å‡ºç°ä¸­æ–‡æˆ–è€…ç©ºæ ¼ï¼‰ï¼Œæ¨èä½¿ç”¨é»˜è®¤è·¯å¾„ï¼Œç„¶åç‚¹å‡» `Install` è¿›è¡Œå®‰è£…ï¼š

   <img src="https://raw.githubusercontent.com/liaozhelin/picgo/master/picpath/image-20220613132213211.png" style="zoom:50%;" />

5. ç­‰å¾…ESP-IDFä¸‹è½½å®‰è£…å®Œæˆï¼ŒIDFæ•´ä½“ä½“ç§¯ä¸å°ï¼Œå…·ä½“çœ‹ç½‘é€Ÿï¼š

   <img src="https://raw.githubusercontent.com/liaozhelin/picgo/master/picpath/image-20220613132432305.png" alt="image-20220613132432305" style="zoom:50%;" />

6. æ¥ä¸‹æ¥å®‰è£…ESP-IDFå·¥å…·ï¼Œå…¶ä¸­åŒ…å«è™šæ‹Ÿç¯å¢ƒä»¥åŠè™šæ‹Ÿç¯å¢ƒä¸­ç”¨åˆ°çš„ä¸€äº›å·¥å…·é“¾ï¼Œé€‰æ‹© `Download ESP-IDF Tools`é€‰é¡¹ï¼Œç‚¹å‡» `Download Tools`ï¼š

   ![image-20220613133019914](https://raw.githubusercontent.com/liaozhelin/picgo/master/picpath/image-20220613133019914.png)

7. ç­‰å¾…å·¥å…·å®‰è£…å®Œæˆï¼š

   ![image-20220613133149569](https://raw.githubusercontent.com/liaozhelin/picgo/master/picpath/image-20220613133149569.png)

8. è‹¥å‡ºç°å¦‚ä¸‹é¡µé¢ï¼Œåˆ™å®‰è£…å®Œæˆï¼Œå¦‚æœä¸Šè¿°ä¸­æœ‰æ­¥éª¤æŠ¥é”™ï¼Œä¸€èˆ¬å°±æ˜¯ç½‘ç»œé—®é¢˜ï¼š

   <img src="https://raw.githubusercontent.com/liaozhelin/picgo/master/picpath/image-20220613133812483.png" alt="image-20220613133812483" style="zoom: 67%;" />

### 3.2å¯¼å…¥å·¥ç¨‹å¼€å‘

â€‹	æœ¬é¡¹ç›®çš„å·¥ç¨‹åœ¨ `Software/yds_charger` ä¸‹ï¼Œå°†é¡¹ç›®å…‹éš†åˆ°æœ¬åœ°ï¼Œä¸»è¦ä¿®æ”¹é¡¹ç›®ä¸­çš„.vscodeæ–‡ä»¶å¤¹ï¼Œè¿™ä¸ªæ–‡ä»¶å¤¹ä¸­çš„æ–‡ä»¶æ§åˆ¶ç€IDFæ’ä»¶çš„åŠŸèƒ½ä»¥åŠVscodeæœ¬èº«çš„ä»£ç é«˜äº®æç¤ºè·³è½¬ç­‰ã€‚

â€‹	å…ˆéªŒè¯å®‰è£…ç¯å¢ƒæ˜¯å¦å¯ä»¥æ­£å¸¸ä½¿ç”¨ï¼ŒæŒ‰`F1`,åœ¨å‘½ä»¤ä¸­æ‰¾åˆ°`New Project`,ç‚¹å‡»ï¼š

<img src="https://raw.githubusercontent.com/liaozhelin/picgo/master/picpath/image-20220613133845390.png" alt="image-20220613133845390" style="zoom:50%;" />

â€‹	æ ¹æ®è‡ªå·±å–œå¥½ä¿®æ”¹å·¥ç¨‹åï¼Œè·¯å¾„ï¼Œæ¿å­ï¼Œä¸²å£ï¼ˆæ²¡æ¥ä¸Šç”µè„‘å°±ä¸ç”¨é€‰ï¼‰ï¼Œæœ€åä¸€ä¸ªé€‰é¡¹å¯ä»¥ä¸ç®¡ï¼Œç‚¹å‡» `Chose Template`ï¼š

![image-20220613134033428](https://raw.githubusercontent.com/liaozhelin/picgo/master/picpath/image-20220613134033428.png)

â€‹	ä¸‹æ‹‰æ¡†ä¸­é€‰æ‹© `ESP-IDF` ,è¿™é‡Œå¯ä»¥é€‰æ‹©ä¸€ä¸ªæœ€ç®€å•çš„é¡¹ç›®æµ‹è¯•ä¸‹ï¼Œ`sample_project`ï¼Œé€‰æ‹©å¥½åç‚¹å‡»è“è‰²æŒ‰é’®ç”Ÿæˆå·¥ç¨‹ï¼Œå¹¶ä¿¡ä»»æ–‡ä»¶å¤¹ä¸­çš„ä½œè€…å¹¶å¯ç”¨æ‰€æœ‰åŠŸèƒ½:

<img src="https://raw.githubusercontent.com/liaozhelin/picgo/master/picpath/image-20220613134236762.png" alt="image-20220613134236762" style="zoom:50%;" />

â€‹	ç‚¹å‡»å·¥ç¨‹ä¸‹é¢æ¡†ä¸­çš„ç¼–è¯‘æŒ‰é’®ï¼Œç­‰å¾…ç¼–è¯‘å®Œæˆï¼Œè‹¥èƒ½æˆåŠŸç”Ÿæˆbinæ–‡ä»¶åˆ™ç¯å¢ƒæ­å»ºæˆåŠŸï¼ˆç¼–è¯‘å¦‚æœå¾ˆæ…¢çš„è¯ï¼Œå…³é—­Windowsçš„ç—…æ¯’é˜²æŠ¤ï¼Œå¯ä»¥æå¤§æé«˜ç¼–è¯‘é€Ÿåº¦ï¼‰ï¼š

<img src="https://raw.githubusercontent.com/liaozhelin/picgo/master/picpath/image-20220613134532026.png" alt="image-20220613134532026" style="zoom:67%;" />

<img src="https://raw.githubusercontent.com/liaozhelin/picgo/master/picpath/image-20220613135352420.png" alt="image-20220613135352420" style="zoom:50%;" />

â€‹	éªŒè¯å®Œç¼–è¯‘ç¯å¢ƒåï¼Œå¯ä»¥å°†ç¤ºä¾‹å·¥ç¨‹ä¸­.vscodeä¸­æ–‡ä»¶å¤åˆ¶åˆ°å…‹éš†ä¸‹çš„å·¥ç¨‹ä¸­ï¼Œæˆ–è€…ä½¿ç”¨ `F1` ä¸­çš„æ·»åŠ .vscodeæ–‡ä»¶å‘½ä»¤ä¹Ÿå¯ä»¥ï¼Œåº”è¯¥åŒ…å«ä¸‹é¢å››ä¸ªæ–‡ä»¶ï¼š

![image-20220613142504698](https://raw.githubusercontent.com/liaozhelin/picgo/master/picpath/image-20220613142504698.png)

â€‹	åé¢å°±å¯ä»¥æ„‰å¿«åœ°å¼€å‘äº†ï¼Œçƒ§å½•ä¸‹è½½ä¹Ÿä¸€æ ·æ˜¯ç”¨ä¸‹é¢çš„æŒ‰é’®ï¼Œè¿™é‡Œå°±ä¸èµ˜è¿°äº†ï¼š

<img src="https://raw.githubusercontent.com/liaozhelin/picgo/master/picpath/image-20220613142901062.png" alt="image-20220613142901062" style="zoom:67%;" />



**åŠŸèƒ½å¼€å‘ï¼ˆæ›´æ–°æ—¥æœŸ22-5-27ï¼‰ï¼š**

âœ… å·²ç»å¼€å‘å®Œæˆ   ğŸš©æ­£åœ¨å¼€å‘ä¸­   âŒè¿˜æœªå¼€å‘æˆ–æ”¾å¼ƒå¼€å‘

|          è®¾è®¡åŠŸèƒ½          | çŠ¶æ€ |               è¯´æ˜               |
| :------------------------: | :--: | :------------------------------: |
|    è¿œç¨‹ç½‘ç»œå‡çº§ï¼ˆOTAï¼‰     |  âœ…   |         å¸¦å›ºä»¶ç‰ˆæœ¬å·æ ¡éªŒ         |
|          WIFIé…ç½‘          |  âœ…   |       é€šè¿‡ESPTouchè½¯ä»¶é…ç½‘       |
|         ä¸»ç•Œé¢æ˜¾ç¤º         |  âœ…   |        å¾…æœºä¼‘çœ å±ä¿å¾…å®Œå–„        |
|        å¿«å……åè®®è§£æ        |  âœ…   |              å·²å®ç°              |
|         RGBæŒ‡ç¤ºç¯          |  âœ…   |      å·²å®ç°ï¼Œæ§åˆ¶é€»è¾‘å¾…å®Œå–„      |
|      å„å£ç”µå‹ç”µæµç›‘æµ‹      |  âœ…   |              å·²å®ç°              |
|        è¿‡æµåæ¥ä¿æŠ¤        |  âœ…   |          ä»¥å®ç°ï¼Œå·²æ ¡éªŒ          |
|   è¿œç¨‹æ§åˆ¶å……ç”µå™¨å››å£å¼€å…³   |  ğŸš©   |      ç¡¬ä»¶å·²éªŒè¯ï¼Œè¿˜æœªå†™é€»è¾‘      |
|     åŠ é€Ÿåº¦è®¡(é‡åŠ›æ„Ÿåº”)     |  ğŸš©   |      ç¨‹åºå·²é©±åŠ¨ï¼Œè¿˜æœªå†™åŠŸèƒ½      |
|        Cå£åŠŸç‡é™åˆ¶         |  ğŸš©   |     ç¨‹åºå·²å®ç°ï¼Œç•Œé¢è¿˜æœªå¢åŠ      |
|    OTAè‡ªåŠ¨æ£€æµ‹ç‰ˆæœ¬å‡çº§     |  ğŸš©   | ç‰ˆæœ¬éªŒè¯å·²å®Œæˆï¼Œjsonè§£æè¿˜åœ¨ä¿®æ”¹ |
| ç”µè„‘CPUå ç”¨ï¼Œå†…å­˜å ç”¨æ˜¾ç¤º  |  âŒ   |             è¿˜æœªå¼€å‘             |
|          å¤©æ°”æ˜¾ç¤º          |  âŒ   |             è¿˜æœªå¼€å‘             |
|         ç²‰ä¸æ•°æ˜¾ç¤º         |  âŒ   |             è¿˜æœªå¼€å‘             |
|        é‡åŠ›æ—‹è½¬å±å¹•        |  âŒ   |             è¿˜æœªå¼€å‘             |
| è“ç‰™å¹¿æ’­æ£€æµ‹æ‰‹ç¯è‡ªåŠ¨å¼€å…³æœº |  âŒ   |             è¿˜æœªå¼€å‘             |
|                            |      |                                  |
|                            |      |                                  |
|                            |      |                                  |

> æœ¬é¡¹ç›®ç¦æ­¢å•†ç”¨ï¼Œä»…ä¾›åŒå¥½ä»¬å¤åˆ»ä½¿ç”¨ï¼Œåœ¨åˆ¶ä½œé¡¹ç›®æ—¶å€™ï¼Œè¯·ç¡®ä¿ç¡¬ä»¶æ— æ•…éšœå†è¿æ¥è®¾å¤‡ä½¿ç”¨ï¼ˆæˆ‘å·²ç»ä½¿ç”¨äº†ä¸¤ä¸ªæœˆï¼Œç›®å‰æ²¡æœ‰å‡ºè¿‡é—®é¢˜ï¼Œæ‰‹å¤´è®¾å¤‡ä¸æ˜¯å¾ˆå¤šï¼Œæ‰€ä»¥æµ‹è¯•å¯èƒ½ä¸æ˜¯å¾ˆå®Œå–„ï¼Œä¸èƒ½ä¿è¯ç³»ç»Ÿä¸å­˜åœ¨éšè—çš„é—®é¢˜ã€‚å¸Œæœ›å¤§å®¶èƒ½å‘ç°é—®é¢˜ä¸€èµ·æ”¹è¿›ï¼‰ï¼Œå¯¹äºé€ æˆé«˜ä»·å€¼è®¾å¤‡æŸåä»¥åŠå…¶ä»–è¿å¸¦æŸå¤±çš„çš„ï¼Œæœ¬äººä¸æ‰¿æ‹…ä»»ä½•è´£ä»»å“ˆã€‚
>
> æµ·æ‹”é«˜åº¦ï¼šï¼œ 2000ç±³
>
> ç¯å¢ƒæ¹¿åº¦ï¼šâ‰¤ 75% RH
>
> å·¥ä½œç¯å¢ƒï¼š0â„ƒ - 50æ‘„æ°åº¦

å¤§ä½¬ä»¬å¤åˆ»æˆåŠŸçš„æˆå“ (æ¯ä¸€å¼ è¡¨æ ¼æ˜¯åŒä¸€ä½œè€…çš„æˆå“)ï¼š

`2022-6-13`

| ![image-20220613232210129](https://raw.githubusercontent.com/liaozhelin/picgo/master/picpath/image-20220613232210129.png) | ![image-20220613232045957](https://raw.githubusercontent.com/liaozhelin/picgo/master/picpath/image-20220613232045957.png) | ![image-20220613232144704](https://raw.githubusercontent.com/liaozhelin/picgo/master/picpath/image-20220613232144704.png) | ![image-20220613232153162](https://raw.githubusercontent.com/liaozhelin/picgo/master/picpath/image-20220613232153162.png) |
| ------------------------------------------------------------ | ------------------------------------------------------------ | ------------------------------------------------------------ | ------------------------------------------------------------ |

`2022-6-14`

| ![image-20220614193137566](https://raw.githubusercontent.com/liaozhelin/picgo/master/picpath/image-20220614193137566.png) | ![image-20220614193200867](https://raw.githubusercontent.com/liaozhelin/picgo/master/picpath/image-20220614193200867.png) | ![image-20220614193233589](https://raw.githubusercontent.com/liaozhelin/picgo/master/picpath/image-20220614193233589.png) | ![image-20220614193340791](https://raw.githubusercontent.com/liaozhelin/picgo/master/picpath/image-20220614193340791.png) |
| ------------------------------------------------------------ | ------------------------------------------------------------ | ------------------------------------------------------------ | ------------------------------------------------------------ |

`2022-6-16`

| ![image-20220616132618162](https://raw.githubusercontent.com/liaozhelin/picgo/master/picpath/image-20220616132618162.png) | ![image-20220616132635410](https://raw.githubusercontent.com/liaozhelin/picgo/master/picpath/image-20220616132635410.png) | ![image-20220616132650768](https://raw.githubusercontent.com/liaozhelin/picgo/master/picpath/image-20220616132650768.png) | ![image-20220616132715392](https://raw.githubusercontent.com/liaozhelin/picgo/master/picpath/image-20220616132715392.png) |
| ------------------------------------------------------------ | ------------------------------------------------------------ | ------------------------------------------------------------ | ------------------------------------------------------------ |

`2022-6-18`

| ![image-20220618222728414](https://raw.githubusercontent.com/liaozhelin/picgo/master/picpath/image-20220618222728414.png) | ![image-20220618222737315](https://raw.githubusercontent.com/liaozhelin/picgo/master/picpath/image-20220618222737315.png) | ![image-20220618222757839](https://raw.githubusercontent.com/liaozhelin/picgo/master/picpath/image-20220618222757839.png) | ![image-20220618222816230](https://raw.githubusercontent.com/liaozhelin/picgo/master/picpath/image-20220618222816230.png) |
| ------------------------------------------------------------ | ------------------------------------------------------------ | ------------------------------------------------------------ | ------------------------------------------------------------ |

......

æœªå®Œå¾…ç»­ï¼Œé¡¹ç›®ä¸ä¿ç†Ÿï¼Œä½ è´¤æƒ æˆ‘è¿˜è´¤æƒ å‘¢ğŸ™Œæœ‰å•¥é—®é¢˜éšæ—¶æissuesï¼Œå·²ç»æœ‰äººå¤åˆ»æˆåŠŸäº†

......

æœ€åçºªå¿µä¸€ä¸‹å¼€å‘è¿‡ç¨‹ä¸­çš„ç‚®ç°å°å¼Ÿä»¬ï¼Œç¬¬ä¸€ä»£å’Œç¬¬ä¸‰ä»£è¿˜æœ‰æ‰“å­”æ­ªäº†çš„==ï¼ˆæ€»å…±è¿­ä»£äº†5ç‰ˆæœ¬ï¼Œå…¶ä¸­æœ‰2ä»£æ¬æ¿æ‹†äº†ï¼‰ï¼š

| <img src="https://raw.githubusercontent.com/liaozhelin/picgo/master/picpath/image-20220613232531549.png" alt="image-20220613232531549"  /> | <img src="https://raw.githubusercontent.com/liaozhelin/picgo/master/picpath/image-20220613232503582.png" alt="image-20220613232503582"  /> |
| ------------------------------------------------------------ | ------------------------------------------------------------ |



